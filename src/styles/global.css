@import "tailwindcss";

@theme {
  /* Cyber Aesthetic Color Palette - these create utilities like bg-cyber-blue, text-cyber-purple, etc. */
  --color-cyber-blue: oklch(0.7 0.25 250);
  --color-cyber-purple: oklch(0.65 0.28 290);
  --color-cyber-pink: oklch(0.7 0.24 340);
  --color-cyber-cyan: oklch(0.75 0.18 195);
  
  /* Accent colors */
  --color-neon-green: oklch(0.8 0.22 145);
  --color-neon-orange: oklch(0.75 0.20 55);
  --color-matrix-green: oklch(0.7 0.19 155);
  
  /* Terminal colors */
  --color-terminal-green: oklch(0.7 0.15 150);
  --color-terminal-yellow: oklch(0.8 0.18 90);
  --color-terminal-red: oklch(0.65 0.22 25);
  --color-terminal-blue: oklch(0.65 0.20 240);
  
  /* Dark theme backgrounds */
  --color-dark-bg: oklch(0.12 0.01 270);
  --color-dark-surface: oklch(0.18 0.02 270);
  --color-dark-elevated: oklch(0.22 0.03 270);
  
  /* Light theme backgrounds */
  --color-light-bg: oklch(0.98 0.005 270);
  --color-light-surface: oklch(0.95 0.008 270);
  --color-light-elevated: oklch(0.92 0.01 270);
  
  /* Text colors */
  --color-text-primary-dark: oklch(0.95 0.01 270);
  --color-text-secondary-dark: oklch(0.7 0.02 270);
  --color-text-tertiary-dark: oklch(0.5 0.02 270);
  
  --color-text-primary-light: oklch(0.2 0.01 270);
  --color-text-secondary-light: oklch(0.4 0.02 270);
  --color-text-tertiary-light: oklch(0.6 0.02 270);
  
  /* Border colors */
  --color-border-dark: oklch(0.3 0.03 270 / 0.3);
  --color-border-light: oklch(0.7 0.02 270 / 0.3);
  
  /* Custom animations using Tailwind v4 syntax */
  --animate-gradient-shift: gradient-shift 3s ease infinite;
  --animate-cursor-blink: cursor-blink 1s step-end infinite;
  --animate-vim-blink: vim-blink 1.2s step-end infinite;
  --animate-scan: scan 8s linear infinite;
  --animate-fade-in: fade-in 0.5s ease-out;
  --animate-slide-up: slide-up 0.5s ease-out;
  --animate-slide-down: slide-down 0.5s ease-out;
  --animate-pulse-glow: pulse-glow 1.5s ease-in-out infinite;
  
  /* Define keyframes for custom animations */
  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  
  @keyframes cursor-blink {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0; }
  }
  
  @keyframes vim-blink {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0; }
  }
  
  @keyframes scan {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }
  
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slide-down {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 5px oklch(0.7 0.25 250 / 0.5);
    }
    50% {
      box-shadow: 0 0 20px oklch(0.7 0.25 250 / 0.8);
    }
  }
}

/* Root variables for theme switching - these are regular CSS variables, not theme variables */
:root {
  --bg-primary: var(--color-light-bg);
  --bg-secondary: var(--color-light-surface);
  --bg-elevated: var(--color-light-elevated);
  --text-primary: var(--color-text-primary-light);
  --text-secondary: var(--color-text-secondary-light);
  --text-tertiary: var(--color-text-tertiary-light);
  --border-color: var(--color-border-light);
}

.dark {
  --bg-primary: var(--color-dark-bg);
  --bg-secondary: var(--color-dark-surface);
  --bg-elevated: var(--color-dark-elevated);
  --text-primary: var(--color-text-primary-dark);
  --text-secondary: var(--color-text-secondary-dark);
  --text-tertiary: var(--color-text-tertiary-dark);
  --border-color: var(--color-border-dark);
}

/* Layer for custom components and utilities */
@layer components {
  /* Cyber grid background effect - keeping as custom class since it uses complex gradients */
  .cyber-grid {
    background-image: 
      linear-gradient(oklch(0.7 0.25 250 / 0.03) 1px, transparent 1px),
      linear-gradient(90deg, oklch(0.7 0.25 250 / 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    background-position: 0 0, 0 0;
  }

  /* Glowing border effect */
  .glow-border {
    @apply relative border border-[var(--border-color)] transition-all duration-300;
  }

  .glow-border::before {
    content: '';
    @apply absolute -inset-0.5 rounded-[inherit] p-0.5 opacity-0 transition-opacity duration-300;
    background: linear-gradient(45deg, var(--color-cyber-blue), var(--color-cyber-purple), var(--color-cyber-pink));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  .glow-border:hover::before {
    @apply opacity-60;
  }

  /* Cyber text effect */
  .cyber-text {
    background: linear-gradient(135deg, var(--color-cyber-cyan), var(--color-cyber-blue), var(--color-cyber-purple));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    background-size: 200% 200%;
    @apply animate-gradient-shift;
  }

  /* Terminal cursor animation */
  .terminal-cursor {
    @apply inline-block w-2.5 h-[1.2em] bg-terminal-green ml-0.5 align-text-bottom animate-cursor-blink;
  }

  /* Neovim block cursor style */
  .vim-cursor {
    @apply inline-block bg-terminal-green text-dark-bg px-0.5 animate-vim-blink;
  }

  /* Scanline effect for cyber aesthetic */
  .scanlines {
    @apply relative overflow-hidden;
  }

  .scanlines::before {
    content: '';
    @apply absolute inset-0 pointer-events-none z-10 animate-scan;
    background: linear-gradient(
      transparent 0%,
      oklch(0.75 0.18 195 / 0.03) 50%,
      transparent 100%
    );
    background-size: 100% 4px;
  }

  /* Hover glow effect */
  .hover-glow {
    @apply transition-all duration-300;
  }

  .hover-glow:hover {
    box-shadow: 
      0 0 20px oklch(0.7 0.25 250 / 0.3),
      0 0 40px oklch(0.65 0.28 290 / 0.2),
      inset 0 0 20px oklch(0.75 0.18 195 / 0.1);
  }
}

@layer base {
  /* Smooth transitions for theme switching */
  *,
  *::before,
  *::after {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-duration: 0.2s;
    transition-timing-function: ease-in-out;
  }

  /* Disable transitions on theme change for instant feedback */
  .theme-transitioning,
  .theme-transitioning *,
  .theme-transitioning *::before,
  .theme-transitioning *::after {
    transition: none !important;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    @apply w-2.5 h-2.5;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-secondary);
  }

  ::-webkit-scrollbar-thumb {
    @apply rounded;
    background: linear-gradient(180deg, var(--color-cyber-blue), var(--color-cyber-purple));
  }

  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--color-cyber-cyan), var(--color-cyber-blue));
  }

  /* Selection color */
  ::selection {
    background: oklch(0.65 0.28 290 / 0.3);
    color: var(--text-primary);
  }

  /* Focus styles */
  *:focus-visible {
    @apply outline-2 outline-cyber-blue outline-offset-2;
  }
}
