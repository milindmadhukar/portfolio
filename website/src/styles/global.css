@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap');
@import "tailwindcss";

/* 
 * Import Catppuccin mocha (dark theme as default).
 * Latte (light theme) is automatically included with any dark theme import.
 * We use @custom-variant to enable theme switching via the .latte class.
 */
@import "@catppuccin/tailwindcss/mocha.css";

@import "./nerdfonts.css";

/* 
 * Tailwind v4 custom variant for latte theme.
 * This enables the use of latte: prefix in classes (e.g., latte:bg-ctp-base).
 * Default theme is mocha (when .latte class is NOT present on html element).
 */
@custom-variant latte (&:where(.latte, .latte *));

@theme {
  --font-sans: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  --animate-gold-pulse: gold-pulse 3s infinite ease-in-out;

  @keyframes gold-pulse {

    0%,
    100% {
      background-color: transparent;
      box-shadow: none;
    }

    50% {
      background-color: rgba(249, 226, 175, 0.1);
      box-shadow: 0 0 8px rgba(249, 226, 175, 0.4);
    }
  }
}

@layer components {
  .excalidraw-light {
    @apply hidden w-full h-auto;
  }

  .latte .excalidraw-light {
    @apply block;
  }

  .excalidraw-dark {
    @apply block w-full h-auto;
  }

  .latte .excalidraw-dark {
    @apply hidden;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}


.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

/* Shiki Theme Switching */
/* 
 * Astro's Shiki integration applies the 'light' theme as default inline styles (color: #...).
 * The 'dark' theme variables are set as custom properties (--shiki-dark).
 * 
 * 1. Deep Dark Mode (default for this user): 
 *    When .latte is NOT present, we force usage of the --shiki-dark variables.
 * 
 * 2. Light Mode (.latte present):
 *    We do NOTHING. We let the inline `style="color:..."` take precedence, 
 *    which contains the correct light theme colors.
 */
html:not(.latte) .astro-code,
html:not(.latte) .astro-code span {
  color: var(--shiki-dark) !important;
  background-color: var(--shiki-dark-bg) !important;
  font-style: var(--shiki-dark-font-style) !important;
  font-weight: var(--shiki-dark-font-weight) !important;
  text-decoration: var(--shiki-dark-text-decoration) !important;
}